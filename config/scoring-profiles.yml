# Scoring weight profiles for context_bundle
# Each profile defines weights for different ranking signals

default:
  textMatch: 1.0 # Text/keyword match weight (increased to prioritize literal matches)
  pathMatch: 1.5 # Path-based match weight (new - prioritizes files with keywords in paths)
  editingPath: 2.0 # Currently editing file weight
  dependency: 0.6 # Dependency relationship weight (increased to prioritize connected implementation files)
  proximity: 0.25 # Same directory weight
  structural: 0.6 # Structural similarity weight (reduced to prevent false positives from similar structure)
  docPenaltyMultiplier: 0.5 # Multiplicative penalty for docs (0.5 = 50% reduction)
  configPenaltyMultiplier: 0.05 # Multiplicative penalty for config files (0.05 = 95% reduction)
  implBoostMultiplier: 1.3 # Multiplicative boost for implementation files (1.3 = 30% boost)

bugfix:
  textMatch: 1.0
  pathMatch: 1.5
  editingPath: 1.8
  dependency: 0.7 # Higher: bugs often in dependencies
  proximity: 0.35
  structural: 0.7 # Reduced: prevent canvas-agent matching when searching page-agent
  docPenaltyMultiplier: 0.5
  configPenaltyMultiplier: 0.05
  implBoostMultiplier: 1.3

testfail:
  textMatch: 1.0
  pathMatch: 1.5
  editingPath: 1.6
  dependency: 0.85 # Very high: failed tests reveal dependencies
  proximity: 0.3
  structural: 0.7 # Reduced: focus on actual test dependencies
  docPenaltyMultiplier: 0.5
  configPenaltyMultiplier: 0.05
  implBoostMultiplier: 1.3

typeerror:
  textMatch: 1.0
  pathMatch: 1.5
  editingPath: 1.4
  dependency: 0.6
  proximity: 0.4 # Higher: type errors cluster in modules
  structural: 0.6 # Already balanced for type analysis
  docPenaltyMultiplier: 0.5
  configPenaltyMultiplier: 0.05
  implBoostMultiplier: 1.3

feature:
  textMatch: 1.0
  pathMatch: 1.5
  editingPath: 1.5
  dependency: 0.45 # Lower: new features less dependent
  proximity: 0.5 # Higher: features cluster spatially
  structural: 0.6 # Reduced: focus on actual feature files
  docPenaltyMultiplier: 0.5
  configPenaltyMultiplier: 0.05
  implBoostMultiplier: 1.3
